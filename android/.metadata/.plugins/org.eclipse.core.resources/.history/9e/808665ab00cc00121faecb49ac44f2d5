/*
 * jniexample.c
 *
 *  Created on: Jun 2, 2013
 *      Author: mehoggan
 */

#include <jni.h>
#include <stdio.h>

JNIEXPORT jintArray JNICALL
Java_mehdroid_jniexample_MainActivity_fib(JNIEnv * env, jobject obj, jint f)
{
	if (f <= 0) {
		return NULL;
	}

    jintArray array = (*env)->NewIntArray(env, f);
    if (array == NULL) {
    	return NULL;
    }

    jint * n_array = (jint*)malloc(sizeof(jint) * f);
    (*env)->SetIntArrayRegion(env, array, 0, f, n_array);
    free(n_array);

    return array;
}


